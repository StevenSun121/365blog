<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style type="text/css">
        @import url(css/mg.css);
    </style>
    <!--<script type="text/javascript" src="/common/js/jquery-2.1.4/jquery.min.js"></script>-->
    <script type="text/javascript" src="js/jquery.js"></script>
    <script type="text/javascript" src="js/jquery.hotkey.js"></script>
    <script type="text/javascript" src="js/mg.js"></script>
</head>
<body id="sansi-toy-mg">
<div id="wrapper">
    <div class="info">当前第 <span id="count" class="num">-</span> 局
        <p>规则：从左上角出发，终点为右下角红旗处。</p>
    </div>
    <div id="mg" class="mg"></div>
    <div class="info">
        <p>提示：您可以使用键盘上的上、下、左、右方向键控制迷宫中笑脸的移动。</p>
    </div>
    <div id="mg_set">
        <strong>设置：</strong>
        <p>
            <input type="checkbox" onclick="mark(1, this);" id="mark1" /> <label for="mark1">将走过的格子用红色标出</label>
        </p>
        宽：<input type="text" id="mg_width" value="" size="4" maxlength="2" />
        高：<input type="text" id="mg_height" value="" size="4" maxlength="2" />
        <input type="button" value=" 生成新迷宫 " onclick="new_mg();" />
    </div>
</div>

<script type="text/javascript">
    function new_mg(w, h) {
        var w = w || parseInt(document.getElementById("mg_width").value) || 10,
                h = h || parseInt(document.getElementById("mg_height").value) || 10;
        mg.set({width: w, height: h}).create().show();
        document.getElementById("mg_width").value = w;
        document.getElementById("mg_height").value = h;
        $("#count").html(level);
    }

    var level = 1;
    function count() {
//        $.get("js/stat/count.py", {
//            r: Math.random()
//        }, function (r) {
//            r = r.replace(/[\r\n\s]/g, "");
//            if (r.match(/^\d+$/))
//                $("#count").html(r);
//        });
        level ++;
        $("#count").html(level);
    }

    function mark(h, ob) {
        mg.me.setMark(h, ob.checked);
    }

    var mg = new MG("mg");
    new_mg();

</script>

</body>
</html>